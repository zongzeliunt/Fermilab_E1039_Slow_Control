/* Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function(b){b.color={};b.color.make=function(d,e,g,f){var c={};c.r=d||0;c.g=e||0;c.b=g||0;c.a=f!=null?f:1;c.add=function(h,j){for(var k=0;k<h.length;++k){c[h.charAt(k)]+=j}return c.normalize()};c.scale=function(h,j){for(var k=0;k<h.length;++k){c[h.charAt(k)]*=j}return c.normalize()};c.toString=function(){if(c.a>=1){return"rgb("+[c.r,c.g,c.b].join(",")+")"}else{return"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"}};c.normalize=function(){function h(k,j,l){return j<k?k:(j>l?l:j)}c.r=h(0,parseInt(c.r),255);c.g=h(0,parseInt(c.g),255);c.b=h(0,parseInt(c.b),255);c.a=h(0,c.a,1);return c};c.clone=function(){return b.color.make(c.r,c.b,c.g,c.a)};return c.normalize()};b.color.extract=function(d,e){var c;do{c=d.css(e).toLowerCase();if(c!=""&&c!="transparent"){break}d=d.parent()}while(!b.nodeName(d.get(0),"body"));if(c=="rgba(0, 0, 0, 0)"){c="transparent"}return b.color.parse(c)};b.color.parse=function(c){var d,f=b.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10))}if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]))}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55)}if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55,parseFloat(d[4]))}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return f(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16))}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return f(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16))}var e=b.trim(c).toLowerCase();if(e=="transparent"){return f(255,255,255,0)}else{d=a[e]||[0,0,0];return f(d[0],d[1],d[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(c){function b(ax,al,ab,D){var U=[],V={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},n=null,G=null,aj=null,N=null,F=null,r=[],ay=[],aw={left:0,right:0,top:0,bottom:0},af=0,P=0,f=0,aq=0,ao={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},at=this;at.setData=am;at.setupGrid=w;at.draw=ad;at.getPlaceholder=function(){return ax};at.getCanvas=function(){return n};at.getPlotOffset=function(){return aw};at.width=function(){return f};at.height=function(){return aq};at.offset=function(){var aB=aj.offset();aB.left+=aw.left;aB.top+=aw.top;return aB};at.getData=function(){return U};at.getAxes=function(){var aC={},aB;c.each(r.concat(ay),function(aD,aE){if(aE){aC[aE.direction+(aE.n!=1?aE.n:"")+"axis"]=aE}});return aC};at.getXAxes=function(){return r};at.getYAxes=function(){return ay};at.c2p=J;at.p2c=av;at.getOptions=function(){return V};at.highlight=an;at.unhighlight=Q;at.triggerRedrawOverlay=d;at.pointOffset=function(aB){return{left:parseInt(r[m(aB,"x")-1].p2c(+aB.x)+aw.left),top:parseInt(ay[m(aB,"y")-1].p2c(+aB.y)+aw.top)}};at.shutdown=C;at.resize=function(){H();g(n);g(G)};at.hooks=ao;M(at);ag(ab);ae();am(al);w();ad();ak();function z(aD,aB){aB=[at].concat(aB);for(var aC=0;aC<aD.length;++aC){aD[aC].apply(this,aB)}}function M(){for(var aB=0;aB<D.length;++aB){var aC=D[aB];aC.init(at);if(aC.options){c.extend(true,V,aC.options)}}}function ag(aC){var aB;c.extend(true,V,aC);if(V.xaxis.color==null){V.xaxis.color=V.grid.color}if(V.yaxis.color==null){V.yaxis.color=V.grid.color}if(V.xaxis.tickColor==null){V.xaxis.tickColor=V.grid.tickColor}if(V.yaxis.tickColor==null){V.yaxis.tickColor=V.grid.tickColor}if(V.grid.borderColor==null){V.grid.borderColor=V.grid.color}if(V.grid.tickColor==null){V.grid.tickColor=c.color.parse(V.grid.color).scale("a",0.22).toString()}for(aB=0;aB<Math.max(1,V.xaxes.length);++aB){V.xaxes[aB]=c.extend(true,{},V.xaxis,V.xaxes[aB])}for(aB=0;aB<Math.max(1,V.yaxes.length);++aB){V.yaxes[aB]=c.extend(true,{},V.yaxis,V.yaxes[aB])}if(V.xaxis.noTicks&&V.xaxis.ticks==null){V.xaxis.ticks=V.xaxis.noTicks}if(V.yaxis.noTicks&&V.yaxis.ticks==null){V.yaxis.ticks=V.yaxis.noTicks}if(V.x2axis){V.xaxes[1]=c.extend(true,{},V.xaxis,V.x2axis);V.xaxes[1].position="top"}if(V.y2axis){V.yaxes[1]=c.extend(true,{},V.yaxis,V.y2axis);V.yaxes[1].position="right"}if(V.grid.coloredAreas){V.grid.markings=V.grid.coloredAreas}if(V.grid.coloredAreasColor){V.grid.markingsColor=V.grid.coloredAreasColor}if(V.lines){c.extend(true,V.series.lines,V.lines)}if(V.points){c.extend(true,V.series.points,V.points)}if(V.bars){c.extend(true,V.series.bars,V.bars)}if(V.shadowSize!=null){V.series.shadowSize=V.shadowSize}for(aB=0;aB<V.xaxes.length;++aB){R(r,aB+1).options=V.xaxes[aB]}for(aB=0;aB<V.yaxes.length;++aB){R(ay,aB+1).options=V.yaxes[aB]}for(var aD in ao){if(V.hooks[aD]&&V.hooks[aD].length){ao[aD]=ao[aD].concat(V.hooks[aD])}}z(ao.processOptions,[V])}function am(aB){U=O(aB);p();B()}function O(aE){var aC=[];for(var aB=0;aB<aE.length;++aB){var aD=c.extend(true,{},V.series);if(aE[aB].data!=null){aD.data=aE[aB].data;delete aE[aB].data;c.extend(true,aD,aE[aB]);aE[aB].data=aD.data}else{aD.data=aE[aB]}aC.push(aD)}return aC}function m(aC,aD){var aB=aC[aD+"axis"];if(typeof aB=="object"){aB=aB.n}if(typeof aB!="number"){aB=1}return aB}function aA(){return c.grep(r.concat(ay),function(aB){return aB})}function J(aE){var aC={},aB,aD;for(aB=0;aB<r.length;++aB){aD=r[aB];if(aD&&aD.used){aC["x"+aD.n]=aD.c2p(aE.left)}}for(aB=0;aB<ay.length;++aB){aD=ay[aB];if(aD&&aD.used){aC["y"+aD.n]=aD.c2p(aE.top)}}if(aC.x1!==undefined){aC.x=aC.x1}if(aC.y1!==undefined){aC.y=aC.y1}return aC}function av(aF){var aD={},aC,aE,aB;for(aC=0;aC<r.length;++aC){aE=r[aC];if(aE&&aE.used){aB="x"+aE.n;if(aF[aB]==null&&aE.n==1){aB="x"}if(aF[aB]!=null){aD.left=aE.p2c(aF[aB]);break}}}for(aC=0;aC<ay.length;++aC){aE=ay[aC];if(aE&&aE.used){aB="y"+aE.n;if(aF[aB]==null&&aE.n==1){aB="y"}if(aF[aB]!=null){aD.top=aE.p2c(aF[aB]);break}}}return aD}function R(aC,aB){if(!aC[aB-1]){aC[aB-1]={n:aB,direction:aC==r?"x":"y",options:c.extend(true,{},aC==r?V.xaxis:V.yaxis)}}return aC[aB-1]}function p(){var aG;var aM=U.length,aB=[],aE=[];for(aG=0;aG<U.length;++aG){var aI=U[aG].color;if(aI!=null){--aM;if(typeof aI=="number"){aE.push(aI)}else{aB.push(c.color.parse(U[aG].color))}}}for(aG=0;aG<aE.length;++aG){aM=Math.max(aM,aE[aG]+1)}var aH=[],aF=0;aG=0;while(aH.length<aM){var aJ;if(V.colors.length==aG){aJ=c.color.make(100,100,100)}else{aJ=c.color.parse(V.colors[aG])}var aC=aF%2==1?-1:1;aJ.scale("rgb",1+aC*Math.ceil(aF/2)*0.2);aH.push(aJ);++aG;if(aG>=V.colors.length){aG=0;++aF}}var aD=0,aN;for(aG=0;aG<U.length;++aG){aN=U[aG];if(aN.color==null){aN.color=aH[aD].toString();++aD}else{if(typeof aN.color=="number"){aN.color=aH[aN.color].toString()}}if(aN.lines.show==null){var aL,aK=true;for(aL in aN){if(aN[aL]&&aN[aL].show){aK=false;break}}if(aK){aN.lines.show=true}}aN.xaxis=R(r,m(aN,"x"));aN.yaxis=R(ay,m(aN,"y"))}}function B(){var aX=Number.POSITIVE_INFINITY,aB=Number.NEGATIVE_INFINITY,aC=Number.MAX_VALUE,aT,aR,aQ,aO,aG,aJ,aV,aN,aI,aH,aD,a0,aW,aL;function aE(a3,a2,a1){if(a2<a3.datamin&&a2!=-aC){a3.datamin=a2}if(a1>a3.datamax&&a1!=aC){a3.datamax=a1}}c.each(aA(),function(a1,a2){a2.datamin=aX;a2.datamax=aB;a2.used=false});for(aT=0;aT<U.length;++aT){aJ=U[aT];aJ.datapoints={points:[]};z(ao.processRawData,[aJ,aJ.data,aJ.datapoints])}for(aT=0;aT<U.length;++aT){aJ=U[aT];var aZ=aJ.data,aS=aJ.datapoints.format;if(!aS){aS=[];aS.push({x:true,number:true,required:true});aS.push({y:true,number:true,required:true});if(aJ.bars.show||(aJ.lines.show&&aJ.lines.fill)){aS.push({y:true,number:true,required:false,defaultValue:0});if(aJ.bars.horizontal){delete aS[aS.length-1].y;aS[aS.length-1].x=true}}aJ.datapoints.format=aS}if(aJ.datapoints.pointsize!=null){continue}aJ.datapoints.pointsize=aS.length;aN=aJ.datapoints.pointsize;aV=aJ.datapoints.points;insertSteps=aJ.lines.show&&aJ.lines.steps;aJ.xaxis.used=aJ.yaxis.used=true;for(aR=aQ=0;aR<aZ.length;++aR,aQ+=aN){aL=aZ[aR];var aF=aL==null;if(!aF){for(aO=0;aO<aN;++aO){a0=aL[aO];aW=aS[aO];if(aW){if(aW.number&&a0!=null){a0=+a0;if(isNaN(a0)){a0=null}else{if(a0==Infinity){a0=aC}else{if(a0==-Infinity){a0=-aC}}}}if(a0==null){if(aW.required){aF=true}if(aW.defaultValue!=null){a0=aW.defaultValue}}}aV[aQ+aO]=a0}}if(aF){for(aO=0;aO<aN;++aO){a0=aV[aQ+aO];if(a0!=null){aW=aS[aO];if(aW.x){aE(aJ.xaxis,a0,a0)}if(aW.y){aE(aJ.yaxis,a0,a0)}}aV[aQ+aO]=null}}else{if(insertSteps&&aQ>0&&aV[aQ-aN]!=null&&aV[aQ-aN]!=aV[aQ]&&aV[aQ-aN+1]!=aV[aQ+1]){for(aO=0;aO<aN;++aO){aV[aQ+aN+aO]=aV[aQ+aO]}aV[aQ+1]=aV[aQ-aN+1];aQ+=aN}}}}for(aT=0;aT<U.length;++aT){aJ=U[aT];z(ao.processDatapoints,[aJ,aJ.datapoints])}for(aT=0;aT<U.length;++aT){aJ=U[aT];aV=aJ.datapoints.points,aN=aJ.datapoints.pointsize;var aK=aX,aP=aX,aM=aB,aU=aB;for(aR=0;aR<aV.length;aR+=aN){if(aV[aR]==null){continue}for(aO=0;aO<aN;++aO){a0=aV[aR+aO];aW=aS[aO];if(!aW||a0==aC||a0==-aC){continue}if(aW.x){if(a0<aK){aK=a0}if(a0>aM){aM=a0}}if(aW.y){if(a0<aP){aP=a0}if(a0>aU){aU=a0}}}}if(aJ.bars.show){var aY=aJ.bars.align=="left"?0:-aJ.bars.barWidth/2;if(aJ.bars.horizontal){aP+=aY;aU+=aY+aJ.bars.barWidth}else{aK+=aY;aM+=aY+aJ.bars.barWidth}}aE(aJ.xaxis,aK,aM);aE(aJ.yaxis,aP,aU)}c.each(aA(),function(a1,a2){if(a2.datamin==aX){a2.datamin=null}if(a2.datamax==aB){a2.datamax=null}})}function e(aB,aC){var aD=document.createElement("canvas");aD.className=aC;aD.width=af;aD.height=P;if(!aB){c(aD).css({position:"absolute",left:0,top:0})}c(aD).appendTo(ax);if(!aD.getContext){aD=window.G_vmlCanvasManager.initElement(aD)}aD.getContext("2d").save();return aD}function H(){af=ax.width();P=ax.height();if(af<=0||P<=0){throw"Invalid dimensions for plot, width = "+af+", height = "+P}}function g(aC){if(aC.width!=af){aC.width=af}if(aC.height!=P){aC.height=P}var aB=aC.getContext("2d");aB.restore();aB.save()}function ae(){var aC,aD=ax.children("canvas.base"),aB=ax.children("canvas.overlay");if(aD.length==0||aB==0){ax.html("");ax.css({padding:0});if(ax.css("position")=="static"){ax.css("position","relative")}H();n=e(true,"base");G=e(false,"overlay");aC=false}else{n=aD.get(0);G=aB.get(0);aC=true}N=n.getContext("2d");F=G.getContext("2d");aj=c([G,n]);if(aC){ax.data("plot").shutdown();at.resize();F.clearRect(0,0,af,P);aj.unbind();ax.children().not([n,G]).remove()}ax.data("plot",at)}function ak(){if(V.grid.hoverable){aj.mousemove(ah);aj.mouseleave(l)}if(V.grid.clickable){aj.click(T)}z(ao.bindEvents,[aj])}function C(){if(Y){clearTimeout(Y)}aj.unbind("mousemove",ah);aj.unbind("mouseleave",l);aj.unbind("click",T);z(ao.shutdown,[aj])}function u(aG){function aF(aH){return aH}var aE,aB,aC=aG.options.transform||aF,aD=aG.options.inverseTransform;if(aG.direction=="x"){aE=aG.scale=f/Math.abs(aC(aG.max)-aC(aG.min));aB=Math.min(aC(aG.max),aC(aG.min))}else{aE=aG.scale=aq/Math.abs(aC(aG.max)-aC(aG.min));aE=-aE;aB=Math.max(aC(aG.max),aC(aG.min))}if(aC==aF){aG.p2c=function(aH){return(aH-aB)*aE}}else{aG.p2c=function(aH){return(aC(aH)-aB)*aE}}if(!aD){aG.c2p=function(aH){return aB+aH/aE}}else{aG.c2p=function(aH){return aD(aB+aH/aE)}}}function Z(aE){var aB=aE.options,aG,aK=aE.ticks||[],aD=[],aF,aJ=aB.labelWidth,aH=aB.labelHeight,aI;function aC(aM,aL){return c('<div style="position:absolute;top:-10000px;'+aL+'font-size:smaller"><div class="'+aE.direction+"Axis "+aE.direction+aE.n+'Axis">'+aM.join("")+"</div></div>").appendTo(ax)}if(aE.direction=="x"){if(aJ==null){aJ=Math.floor(af/(aK.length>0?aK.length:1))}if(aH==null){aD=[];for(aG=0;aG<aK.length;++aG){aF=aK[aG].label;if(aF){aD.push('<div class="tickLabel" style="float:left;width:'+aJ+'px">'+aF+"</div>")}}if(aD.length>0){aD.push('<div style="clear:left"></div>');aI=aC(aD,"width:10000px;");aH=aI.height();aI.remove()}}}else{if(aJ==null||aH==null){for(aG=0;aG<aK.length;++aG){aF=aK[aG].label;if(aF){aD.push('<div class="tickLabel">'+aF+"</div>")}}if(aD.length>0){aI=aC(aD,"");if(aJ==null){aJ=aI.children().width()}if(aH==null){aH=aI.find("div.tickLabel").height()}aI.remove()}}}if(aJ==null){aJ=0}if(aH==null){aH=0}aE.labelWidth=aJ;aE.labelHeight=aH}function s(aB){var aC=aB.labelWidth,aL=aB.labelHeight,aI=aB.options.position,aF=aB.options.tickLength,aG=V.grid.axisMargin,aM=V.grid.labelMargin,aK=aB.direction=="x"?r:ay,aE;var aD=c.grep(aK,function(aN){return aN&&aN.options.position==aI&&aN.reserveSpace});if(c.inArray(aB,aD)==aD.length-1){aG=0}if(aF==null){aF="full"}var aJ=c.grep(aK,function(aN){return aN&&aN.reserveSpace});var aH=c.inArray(aB,aJ)==0;if(!aH&&aF=="full"){aF=5}if(!isNaN(+aF)){aM+=+aF}if(aB.direction=="x"){aL+=aM;if(aI=="bottom"){aw.bottom+=aL+aG;aB.box={top:P-aw.bottom,height:aL}}else{aB.box={top:aw.top+aG,height:aL};aw.top+=aL+aG}}else{aC+=aM;if(aI=="left"){aB.box={left:aw.left+aG,width:aC};aw.left+=aC+aG}else{aw.right+=aC+aG;aB.box={left:af-aw.right,width:aC}}}aB.position=aI;aB.tickLength=aF;aB.box.padding=aM;aB.innermost=aH}function ac(aB){if(aB.direction=="x"){aB.box.left=aw.left;aB.box.width=f}else{aB.box.top=aw.top;aB.box.height=aq}}function w(){var aC,aE=aA();c.each(aE,function(aF,aG){aG.show=aG.options.show;if(aG.show==null){aG.show=aG.used}aG.reserveSpace=aG.show||aG.options.reserveSpace;o(aG)});allocatedAxes=c.grep(aE,function(aF){return aF.reserveSpace});aw.left=aw.right=aw.top=aw.bottom=0;if(V.grid.show){c.each(allocatedAxes,function(aF,aG){S(aG);X(aG);au(aG,aG.ticks);Z(aG)});for(aC=allocatedAxes.length-1;aC>=0;--aC){s(allocatedAxes[aC])}var aD=V.grid.minBorderMargin;if(aD==null){aD=0;for(aC=0;aC<U.length;++aC){aD=Math.max(aD,U[aC].points.radius+U[aC].points.lineWidth/2)}}for(var aB in aw){aw[aB]+=V.grid.borderWidth;aw[aB]=Math.max(aD,aw[aB])}}f=af-aw.left-aw.right;aq=P-aw.bottom-aw.top;c.each(aE,function(aF,aG){u(aG)});if(V.grid.show){c.each(allocatedAxes,function(aF,aG){ac(aG)});j()}q()}function o(aF){var aG=aF.options,aE=+(aG.min!=null?aG.min:aF.datamin),aC=+(aG.max!=null?aG.max:aF.datamax),aH=aC-aE;if(aH==0){var aD=aC==0?1:0.01;if(aG.min==null){aE-=aD}if(aG.max==null||aG.min!=null){aC+=aD}}else{var aB=aG.autoscaleMargin;if(aB!=null){if(aG.min==null){aE-=aH*aB;if(aE<0&&aF.datamin!=null&&aF.datamin>=0){aE=0}}if(aG.max==null){aC+=aH*aB;if(aC>0&&aF.datamax!=null&&aF.datamax<=0){aC=0}}}}aF.min=aE;aF.max=aC}function S(aE){var aM=aE.options;var aF;if(typeof aM.ticks=="number"&&aM.ticks>0){aF=aM.ticks}else{aF=0.3*Math.sqrt(aE.direction=="x"?af:P)}var aU=(aE.max-aE.min)/aF,aQ,aC,aN,aT,aS,aR,aG;if(aM.mode=="time"){var aH={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var aI=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var aB=0;if(aM.minTickSize!=null){if(typeof aM.tickSize=="number"){aB=aM.tickSize}else{aB=aM.minTickSize[0]*aH[aM.minTickSize[1]]}}for(var aS=0;aS<aI.length-1;++aS){if(aU<(aI[aS][0]*aH[aI[aS][1]]+aI[aS+1][0]*aH[aI[aS+1][1]])/2&&aI[aS][0]*aH[aI[aS][1]]>=aB){break}}aQ=aI[aS][0];aN=aI[aS][1];if(aN=="year"){aR=Math.pow(10,Math.floor(Math.log(aU/aH.year)/Math.LN10));aG=(aU/aH.year)/aR;if(aG<1.5){aQ=1}else{if(aG<3){aQ=2}else{if(aG<7.5){aQ=5}else{aQ=10}}}aQ*=aR}aE.tickSize=aM.tickSize||[aQ,aN];aC=function(aX){var a3=[],a0=aX.tickSize[0],a2=aX.tickSize[1],a1=new Date(aX.min);var aW=a0*aH[a2];if(a2=="second"){a1.setUTCSeconds(a(a1.getUTCSeconds(),a0))}if(a2=="minute"){a1.setUTCMinutes(a(a1.getUTCMinutes(),a0))}if(a2=="hour"){a1.setUTCHours(a(a1.getUTCHours(),a0))}if(a2=="month"){a1.setUTCMonth(a(a1.getUTCMonth(),a0))}if(a2=="year"){a1.setUTCFullYear(a(a1.getUTCFullYear(),a0))}a1.setUTCMilliseconds(0);if(aW>=aH.minute){a1.setUTCSeconds(0)}if(aW>=aH.hour){a1.setUTCMinutes(0)}if(aW>=aH.day){a1.setUTCHours(0)}if(aW>=aH.day*4){a1.setUTCDate(1)}if(aW>=aH.year){a1.setUTCMonth(0)}var a5=0,a4=Number.NaN,aY;do{aY=a4;a4=a1.getTime();a3.push(a4);if(a2=="month"){if(a0<1){a1.setUTCDate(1);var aV=a1.getTime();a1.setUTCMonth(a1.getUTCMonth()+1);var aZ=a1.getTime();a1.setTime(a4+a5*aH.hour+(aZ-aV)*a0);a5=a1.getUTCHours();a1.setUTCHours(0)}else{a1.setUTCMonth(a1.getUTCMonth()+a0)}}else{if(a2=="year"){a1.setUTCFullYear(a1.getUTCFullYear()+a0)}else{a1.setTime(a4+aW)}}}while(a4<aX.max&&a4!=aY);return a3};aT=function(aV,aY){var aZ=new Date(aV);if(aM.timeformat!=null){return c.plot.formatDate(aZ,aM.timeformat,aM.monthNames)}var aW=aY.tickSize[0]*aH[aY.tickSize[1]];var aX=aY.max-aY.min;var a0=(aM.twelveHourClock)?" %p":"";if(aW<aH.minute){fmt="%h:%M:%S"+a0}else{if(aW<aH.day){if(aX<2*aH.day){fmt="%h:%M"+a0}else{fmt="%b %d %h:%M"+a0}}else{if(aW<aH.month){fmt="%b %d"}else{if(aW<aH.year){if(aX<aH.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return c.plot.formatDate(aZ,fmt,aM.monthNames)}}else{var aO=aM.tickDecimals;var aP=-Math.floor(Math.log(aU)/Math.LN10);if(aO!=null&&aP>aO){aP=aO}aR=Math.pow(10,-aP);aG=aU/aR;if(aG<1.5){aQ=1}else{if(aG<3){aQ=2;if(aG>2.25&&(aO==null||aP+1<=aO)){aQ=2.5;++aP}}else{if(aG<7.5){aQ=5}else{aQ=10}}}aQ*=aR;if(aM.minTickSize!=null&&aQ<aM.minTickSize){aQ=aM.minTickSize}aE.tickDecimals=Math.max(0,aO!=null?aO:aP);aE.tickSize=aM.tickSize||aQ;aC=function(aX){var aZ=[];var a0=a(aX.min,aX.tickSize),aW=0,aV=Number.NaN,aY;do{aY=aV;aV=a0+aW*aX.tickSize;aZ.push(aV);++aW}while(aV<aX.max&&aV!=aY);return aZ};aT=function(aV,aW){return aV.toFixed(aW.tickDecimals)}}if(aM.alignTicksWithAxis!=null){var aJ=(aE.direction=="x"?r:ay)[aM.alignTicksWithAxis-1];if(aJ&&aJ.used&&aJ!=aE){var aL=aC(aE);if(aL.length>0){if(aM.min==null){aE.min=Math.min(aE.min,aL[0])}if(aM.max==null&&aL.length>1){aE.max=Math.max(aE.max,aL[aL.length-1])}}aC=function(aX){var aY=[],aV,aW;for(aW=0;aW<aJ.ticks.length;++aW){aV=(aJ.ticks[aW].v-aJ.min)/(aJ.max-aJ.min);aV=aX.min+aV*(aX.max-aX.min);aY.push(aV)}return aY};if(aE.mode!="time"&&aM.tickDecimals==null){var aK=Math.max(0,-Math.floor(Math.log(aU)/Math.LN10)+1),aD=aC(aE);if(!(aD.length>1&&/\..*0$/.test((aD[1]-aD[0]).toFixed(aK)))){aE.tickDecimals=aK}}}}aE.tickGenerator=aC;if(c.isFunction(aM.tickFormatter)){aE.tickFormatter=function(aV,aW){return""+aM.tickFormatter(aV,aW)}}else{aE.tickFormatter=aT}}function X(aG){var aB=aG.options.ticks,aH=[];if(aB==null||(typeof aB=="number"&&aB>0)){aH=aG.tickGenerator(aG)}else{if(aB){if(c.isFunction(aB)){aH=aB({min:aG.min,max:aG.max})}else{aH=aB}}}var aF,aC;aG.ticks=[];for(aF=0;aF<aH.length;++aF){var aD=null;var aE=aH[aF];if(typeof aE=="object"){aC=+aE[0];if(aE.length>1){aD=aE[1]}}else{aC=+aE}if(aD==null){aD=aG.tickFormatter(aC,aG)}if(!isNaN(aC)){aG.ticks.push({v:aC,label:aD})}}}function au(aB,aC){if(aB.options.autoscaleMargin&&aC.length>0){if(aB.options.min==null){aB.min=Math.min(aB.min,aC[0].v)}if(aB.options.max==null&&aC.length>1){aB.max=Math.max(aB.max,aC[aC.length-1].v)}}}function ad(){N.clearRect(0,0,af,P);var aC=V.grid;if(aC.show&&aC.backgroundColor){W()}if(aC.show&&!aC.aboveData){I()}for(var aB=0;aB<U.length;++aB){z(ao.drawSeries,[N,U[aB]]);k(U[aB])}z(ao.draw,[N]);if(aC.show&&aC.aboveData){I()}}function K(aE,aI){var aD,aH,aG,aC,aF=aA();for(i=0;i<aF.length;++i){aD=aF[i];if(aD.direction==aI){aC=aI+aD.n+"axis";if(!aE[aC]&&aD.n==1){aC=aI+"axis"}if(aE[aC]){aH=aE[aC].from;aG=aE[aC].to;break}}}if(!aE[aC]){aD=aI=="x"?r[0]:ay[0];aH=aE[aI+"1"];aG=aE[aI+"2"]}if(aH!=null&&aG!=null&&aH>aG){var aB=aH;aH=aG;aG=aB}return{from:aH,to:aG,axis:aD}}function W(){N.save();N.translate(aw.left,aw.top);N.fillStyle=ap(V.grid.backgroundColor,aq,0,"rgba(255, 255, 255, 0)");N.fillRect(0,0,f,aq);N.restore()}function I(){var aF;N.save();N.translate(aw.left,aw.top);var aI=V.grid.markings;if(aI){if(c.isFunction(aI)){var aK=at.getAxes();aK.xmin=aK.xaxis.min;aK.xmax=aK.xaxis.max;aK.ymin=aK.yaxis.min;aK.ymax=aK.yaxis.max;aI=aI(aK)}for(aF=0;aF<aI.length;++aF){var aD=aI[aF],aH=K(aD,"x"),aB=K(aD,"y");if(aH.from==null){aH.from=aH.axis.min}if(aH.to==null){aH.to=aH.axis.max}if(aB.from==null){aB.from=aB.axis.min}if(aB.to==null){aB.to=aB.axis.max}if(aH.to<aH.axis.min||aH.from>aH.axis.max||aB.to<aB.axis.min||aB.from>aB.axis.max){continue}aH.from=Math.max(aH.from,aH.axis.min);aH.to=Math.min(aH.to,aH.axis.max);aB.from=Math.max(aB.from,aB.axis.min);aB.to=Math.min(aB.to,aB.axis.max);if(aH.from==aH.to&&aB.from==aB.to){continue}aH.from=aH.axis.p2c(aH.from);aH.to=aH.axis.p2c(aH.to);aB.from=aB.axis.p2c(aB.from);aB.to=aB.axis.p2c(aB.to);if(aH.from==aH.to||aB.from==aB.to){N.beginPath();N.strokeStyle=aD.color||V.grid.markingsColor;N.lineWidth=aD.lineWidth||V.grid.markingsLineWidth;N.moveTo(aH.from,aB.from);N.lineTo(aH.to,aB.to);N.stroke()}else{N.fillStyle=aD.color||V.grid.markingsColor;N.fillRect(aH.from,aB.to,aH.to-aH.from,aB.from-aB.to)}}}var aK=aA(),aM=V.grid.borderWidth;for(var aE=0;aE<aK.length;++aE){var aC=aK[aE],aG=aC.box,aQ=aC.tickLength,aN,aL,aP,aJ;if(!aC.show||aC.ticks.length==0){continue}N.strokeStyle=aC.options.tickColor||c.color.parse(aC.options.color).scale("a",0.22).toString();N.lineWidth=1;if(aC.direction=="x"){aN=0;if(aQ=="full"){aL=(aC.position=="top"?0:aq)}else{aL=aG.top-aw.top+(aC.position=="top"?aG.height:0)}}else{aL=0;if(aQ=="full"){aN=(aC.position=="left"?0:f)}else{aN=aG.left-aw.left+(aC.position=="left"?aG.width:0)}}if(!aC.innermost){N.beginPath();aP=aJ=0;if(aC.direction=="x"){aP=f}else{aJ=aq}if(N.lineWidth==1){aN=Math.floor(aN)+0.5;aL=Math.floor(aL)+0.5}N.moveTo(aN,aL);N.lineTo(aN+aP,aL+aJ);N.stroke()}N.beginPath();for(aF=0;aF<aC.ticks.length;++aF){var aO=aC.ticks[aF].v;aP=aJ=0;if(aO<aC.min||aO>aC.max||(aQ=="full"&&aM>0&&(aO==aC.min||aO==aC.max))){continue}if(aC.direction=="x"){aN=aC.p2c(aO);aJ=aQ=="full"?-aq:aQ;if(aC.position=="top"){aJ=-aJ}}else{aL=aC.p2c(aO);aP=aQ=="full"?-f:aQ;if(aC.position=="left"){aP=-aP}}if(N.lineWidth==1){if(aC.direction=="x"){aN=Math.floor(aN)+0.5}else{aL=Math.floor(aL)+0.5}}N.moveTo(aN,aL);N.lineTo(aN+aP,aL+aJ)}N.stroke()}if(aM){N.lineWidth=aM;N.strokeStyle=V.grid.borderColor;N.strokeRect(-aM/2,-aM/2,f+aM,aq+aM)}N.restore()}function j(){ax.find(".tickLabels").remove();var aG=['<div class="tickLabels" style="font-size:smaller">'];var aJ=aA();for(var aD=0;aD<aJ.length;++aD){var aC=aJ[aD],aH=aC.box;if(!aC.show){continue}aG.push('<div class="'+aC.direction+"Axis "+aC.direction+aC.n+'Axis" style="color:'+aC.options.color+'">');for(var aE=0;aE<aC.ticks.length;++aE){var aF=aC.ticks[aE];if(!aF.label||aF.v<aC.min||aF.v>aC.max){continue}var aK={},aI;if(aC.direction=="x"){aI="center";aK.left=Math.round(aw.left+aC.p2c(aF.v)-aC.labelWidth/2);if(aC.position=="bottom"){aK.top=aH.top+aH.padding}else{aK.bottom=P-(aH.top+aH.height-aH.padding)}}else{aK.top=Math.round(aw.top+aC.p2c(aF.v)-aC.labelHeight/2);if(aC.position=="left"){aK.right=af-(aH.left+aH.width-aH.padding);aI="right"}else{aK.left=aH.left+aH.padding;aI="left"}}aK.width=aC.labelWidth;var aB=["position:absolute","text-align:"+aI];for(var aL in aK){aB.push(aL+":"+aK[aL]+"px")}aG.push('<div class="tickLabel" style="'+aB.join(";")+'">'+aF.label+"</div>")}aG.push("</div>")}aG.push("</div>");ax.append(aG.join(""))}function k(aB){if(aB.lines.show){t(aB)}if(aB.bars.show){h(aB)}if(aB.points.show){v(aB)}}function t(aD){function aF(aP,aL,aQ,aV,aT){var aU=aP.points,aI=aP.pointsize,aN=null,aM=null;N.beginPath();for(var aO=aI;aO<aU.length;aO+=aI){var aK=aU[aO-aI],aS=aU[aO-aI+1],aJ=aU[aO],aR=aU[aO+1];if(aK==null||aJ==null){continue}if(aS<=aR&&aS<aT.min){if(aR<aT.min){continue}aK=(aT.min-aS)/(aR-aS)*(aJ-aK)+aK;aS=aT.min}else{if(aR<=aS&&aR<aT.min){if(aS<aT.min){continue}aJ=(aT.min-aS)/(aR-aS)*(aJ-aK)+aK;aR=aT.min}}if(aS>=aR&&aS>aT.max){if(aR>aT.max){continue}aK=(aT.max-aS)/(aR-aS)*(aJ-aK)+aK;aS=aT.max}else{if(aR>=aS&&aR>aT.max){if(aS>aT.max){continue}aJ=(aT.max-aS)/(aR-aS)*(aJ-aK)+aK;aR=aT.max}}if(aK<=aJ&&aK<aV.min){if(aJ<aV.min){continue}aS=(aV.min-aK)/(aJ-aK)*(aR-aS)+aS;aK=aV.min}else{if(aJ<=aK&&aJ<aV.min){if(aK<aV.min){continue}aR=(aV.min-aK)/(aJ-aK)*(aR-aS)+aS;aJ=aV.min}}if(aK>=aJ&&aK>aV.max){if(aJ>aV.max){continue}aS=(aV.max-aK)/(aJ-aK)*(aR-aS)+aS;aK=aV.max}else{if(aJ>=aK&&aJ>aV.max){if(aK>aV.max){continue}aR=(aV.max-aK)/(aJ-aK)*(aR-aS)+aS;aJ=aV.max}}if(aK!=aN||aS!=aM){N.moveTo(aV.p2c(aK)+aL,aT.p2c(aS)+aQ)}aN=aJ;aM=aR;N.lineTo(aV.p2c(aJ)+aL,aT.p2c(aR)+aQ)}N.stroke()}function aC(aI,aR,aP){var aY=aI.points,aV=aI.pointsize,aM=Math.min(Math.max(0,aP.min),aP.max),aW=0,aU,aJ=false,aO=1,aN=0,aS=0;while(true){if(aV>0&&aW>aY.length+aV){break}aW+=aV;var aZ=aY[aW-aV],aL=aY[aW-aV+aO],aX=aY[aW],aK=aY[aW+aO];if(aJ){if(aV>0&&aZ!=null&&aX==null){aS=aW;aV=-aV;aO=2;continue}if(aV<0&&aW==aN+aV){N.fill();aJ=false;aV=-aV;aO=1;aW=aN=aS+aV;continue}}if(aZ==null||aX==null){continue}if(aZ<=aX&&aZ<aR.min){if(aX<aR.min){continue}aL=(aR.min-aZ)/(aX-aZ)*(aK-aL)+aL;aZ=aR.min}else{if(aX<=aZ&&aX<aR.min){if(aZ<aR.min){continue}aK=(aR.min-aZ)/(aX-aZ)*(aK-aL)+aL;aX=aR.min}}if(aZ>=aX&&aZ>aR.max){if(aX>aR.max){continue}aL=(aR.max-aZ)/(aX-aZ)*(aK-aL)+aL;aZ=aR.max}else{if(aX>=aZ&&aX>aR.max){if(aZ>aR.max){continue}aK=(aR.max-aZ)/(aX-aZ)*(aK-aL)+aL;aX=aR.max}}if(!aJ){N.beginPath();N.moveTo(aR.p2c(aZ),aP.p2c(aM));aJ=true}if(aL>=aP.max&&aK>=aP.max){N.lineTo(aR.p2c(aZ),aP.p2c(aP.max));N.lineTo(aR.p2c(aX),aP.p2c(aP.max));continue}else{if(aL<=aP.min&&aK<=aP.min){N.lineTo(aR.p2c(aZ),aP.p2c(aP.min));N.lineTo(aR.p2c(aX),aP.p2c(aP.min));continue}}var aQ=aZ,aT=aX;if(aL<=aK&&aL<aP.min&&aK>=aP.min){aZ=(aP.min-aL)/(aK-aL)*(aX-aZ)+aZ;aL=aP.min}else{if(aK<=aL&&aK<aP.min&&aL>=aP.min){aX=(aP.min-aL)/(aK-aL)*(aX-aZ)+aZ;aK=aP.min}}if(aL>=aK&&aL>aP.max&&aK<=aP.max){aZ=(aP.max-aL)/(aK-aL)*(aX-aZ)+aZ;aL=aP.max}else{if(aK>=aL&&aK>aP.max&&aL<=aP.max){aX=(aP.max-aL)/(aK-aL)*(aX-aZ)+aZ;aK=aP.max}}if(aZ!=aQ){N.lineTo(aR.p2c(aQ),aP.p2c(aL))}N.lineTo(aR.p2c(aZ),aP.p2c(aL));N.lineTo(aR.p2c(aX),aP.p2c(aK));if(aX!=aT){N.lineTo(aR.p2c(aX),aP.p2c(aK));N.lineTo(aR.p2c(aT),aP.p2c(aK))}}}N.save();N.translate(aw.left,aw.top);N.lineJoin="round";var aG=aD.lines.lineWidth,aB=aD.shadowSize;if(aG>0&&aB>0){N.lineWidth=aB;N.strokeStyle="rgba(0,0,0,0.1)";var aH=Math.PI/18;aF(aD.datapoints,Math.sin(aH)*(aG/2+aB/2),Math.cos(aH)*(aG/2+aB/2),aD.xaxis,aD.yaxis);N.lineWidth=aB/2;aF(aD.datapoints,Math.sin(aH)*(aG/2+aB/4),Math.cos(aH)*(aG/2+aB/4),aD.xaxis,aD.yaxis)}N.lineWidth=aG;N.strokeStyle=aD.color;var aE=E(aD.lines,aD.color,0,aq);if(aE){N.fillStyle=aE;aC(aD.datapoints,aD.xaxis,aD.yaxis)}if(aG>0){aF(aD.datapoints,0,0,aD.xaxis,aD.yaxis)}N.restore()}function v(aE){function aH(aN,aJ,aS,aK,aT,aU,aQ,aM){var aR=aN.points,aI=aN.pointsize;for(var aL=0;aL<aR.length;aL+=aI){var aP=aR[aL],aO=aR[aL+1];if(aP==null||aP<aU.min||aP>aU.max||aO<aQ.min||aO>aQ.max){continue}N.beginPath();aP=aU.p2c(aP);aO=aQ.p2c(aO)+aK;if(aM=="circle"){N.arc(aP,aO,aJ,0,aT?Math.PI:Math.PI*2,false)}else{aM(N,aP,aO,aJ,aT)}N.closePath();if(aS){N.fillStyle=aS;N.fill()}N.stroke()}}N.save();N.translate(aw.left,aw.top);var aG=aE.points.lineWidth,aC=aE.shadowSize,aF=aE.points.radius,aB=aE.points.symbol;if(aG>0&&aC>0){var aD=aC/2;N.lineWidth=aD;N.strokeStyle="rgba(0,0,0,0.1)";aH(aE.datapoints,aF,null,aD+aD/2,true,aE.xaxis,aE.yaxis,aB);N.strokeStyle="rgba(0,0,0,0.2)";aH(aE.datapoints,aF,null,aD/2,true,aE.xaxis,aE.yaxis,aB)}N.lineWidth=aG;N.strokeStyle=aE.color;aH(aE.datapoints,aF,E(aE.points,aE.color),0,false,aE.xaxis,aE.yaxis,aB);N.restore()}function L(aM,aL,aV,aF,aQ,aH,aI,aK,aJ,aT,aR,aO){var aD,aU,aC,aP,aG,aB,aN,aE,aS;if(aR){aE=aB=aN=true;aG=false;aD=aV;aU=aM;aP=aL+aF;aC=aL+aQ;if(aU<aD){aS=aU;aU=aD;aD=aS;aG=true;aB=false}}else{aG=aB=aN=true;aE=false;aD=aM+aF;aU=aM+aQ;aC=aV;aP=aL;if(aP<aC){aS=aP;aP=aC;aC=aS;aE=true;aN=false}}if(aU<aK.min||aD>aK.max||aP<aJ.min||aC>aJ.max){return}if(aD<aK.min){aD=aK.min;aG=false}if(aU>aK.max){aU=aK.max;aB=false}if(aC<aJ.min){aC=aJ.min;aE=false}if(aP>aJ.max){aP=aJ.max;aN=false}aD=aK.p2c(aD);aC=aJ.p2c(aC);aU=aK.p2c(aU);aP=aJ.p2c(aP);if(aI){aT.beginPath();aT.moveTo(aD,aC);aT.lineTo(aD,aP);aT.lineTo(aU,aP);aT.lineTo(aU,aC);aT.fillStyle=aI(aC,aP);aT.fill()}if(aO>0&&(aG||aB||aN||aE)){aT.beginPath();aT.moveTo(aD,aC+aH);if(aG){aT.lineTo(aD,aP+aH)}else{aT.moveTo(aD,aP+aH)}if(aN){aT.lineTo(aU,aP+aH)}else{aT.moveTo(aU,aP+aH)}if(aB){aT.lineTo(aU,aC+aH)}else{aT.moveTo(aU,aC+aH)}if(aE){aT.lineTo(aD,aC+aH)}else{aT.moveTo(aD,aC+aH)}aT.stroke()}}function h(aC){function aD(aK,aH,aO,aI,aG,aN,aL){var aM=aK.points,aF=aK.pointsize;for(var aJ=0;aJ<aM.length;aJ+=aF){if(aM[aJ]==null){continue}L(aM[aJ],aM[aJ+1],aM[aJ+2],aH,aO,aI,aG,aN,aL,N,aC.bars.horizontal,aC.bars.lineWidth)}}N.save();N.translate(aw.left,aw.top);N.lineWidth=aC.bars.lineWidth;N.strokeStyle=aC.color;var aE=aC.bars.align=="left"?0:-aC.bars.barWidth/2;var aB=aC.bars.fill?function(aF,aG){return E(aC.bars,aC.color,aF,aG)}:null;aD(aC.datapoints,aE,aE+aC.bars.barWidth,0,aB,aC.xaxis,aC.yaxis);N.restore()}function E(aB,aD,aC,aF){var aE=aB.fill;if(!aE){return null}if(aB.fillColor){return ap(aB.fillColor,aC,aF,aD)}var aG=c.color.parse(aD);aG.a=typeof aE=="number"?aE:0.4;aG.normalize();return aG.toString()}function q(){ax.find(".legend").remove();if(!V.legend.show){return}var aH=[],aF=false,aM=V.legend.labelFormatter,aN,aJ;for(var aE=0;aE<U.length;++aE){aN=U[aE];aJ=aN.label;if(!aJ){continue}if(aE%V.legend.noColumns==0){if(aF){aH.push("</tr>")}aH.push("<tr>");aF=true}if(aM){aJ=aM(aJ,aN)}aH.push('<td class="legendColorBox"><div style="border:1px solid '+V.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aN.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aJ+"</td>")}if(aF){aH.push("</tr>")}if(aH.length==0){return}var aL='<table style="font-size:smaller;color:'+V.grid.color+'">'+aH.join("")+"</table>";if(V.legend.container!=null){c(V.legend.container).html(aL)}else{var aI="",aC=V.legend.position,aD=V.legend.margin;if(aD[0]==null){aD=[aD,aD]}if(aC.charAt(0)=="n"){aI+="top:"+(aD[1]+aw.top)+"px;"}else{if(aC.charAt(0)=="s"){aI+="bottom:"+(aD[1]+aw.bottom)+"px;"}}if(aC.charAt(1)=="e"){aI+="right:"+(aD[0]+aw.right)+"px;"}else{if(aC.charAt(1)=="w"){aI+="left:"+(aD[0]+aw.left)+"px;"}}var aK=c('<div class="legend">'+aL.replace('style="','style="position:absolute;'+aI+";")+"</div>").appendTo(ax);if(V.legend.backgroundOpacity!=0){var aG=V.legend.backgroundColor;if(aG==null){aG=V.grid.backgroundColor;if(aG&&typeof aG=="string"){aG=c.color.parse(aG)}else{aG=c.color.extract(aK,"background-color")}aG.a=1;aG=aG.toString()}var aB=aK.children();c('<div style="position:absolute;width:'+aB.width()+"px;height:"+aB.height()+"px;"+aI+"background-color:"+aG+';"> </div>').prependTo(aK).css("opacity",V.legend.backgroundOpacity)}}}var ai=[],Y=null;function aa(aC,aE,aG){var aB=V.grid.mouseActiveRadius,aQ=aB*aB+1,aY=null,a0=false,aW,aV;for(aW=U.length-1;aW>=0;--aW){if(!aG(U[aW])){continue}var aR=U[aW],aJ=aR.xaxis,aI=aR.yaxis,aX=aR.datapoints.points,aT=aR.datapoints.pointsize,aP=aJ.c2p(aC),aO=aI.c2p(aE),aF=aB/aJ.scale,aD=aB/aI.scale;if(aJ.options.inverseTransform){aF=Number.MAX_VALUE}if(aI.options.inverseTransform){aD=Number.MAX_VALUE}if(aR.lines.show||aR.points.show){for(aV=0;aV<aX.length;aV+=aT){var aL=aX[aV],aK=aX[aV+1];if(aL==null){continue}if(aL-aP>aF||aL-aP<-aF||aK-aO>aD||aK-aO<-aD){continue}var aN=Math.abs(aJ.p2c(aL)-aC),aM=Math.abs(aI.p2c(aK)-aE),aS=aN*aN+aM*aM;if(aS<aQ){aQ=aS;aY=[aW,aV/aT]}}}if(aR.bars.show&&!aY){var aH=aR.bars.align=="left"?0:-aR.bars.barWidth/2,aU=aH+aR.bars.barWidth;for(aV=0;aV<aX.length;aV+=aT){var aL=aX[aV],aK=aX[aV+1],aZ=aX[aV+2];if(aL==null){continue}if(U[aW].bars.horizontal?(aP<=Math.max(aZ,aL)&&aP>=Math.min(aZ,aL)&&aO>=aK+aH&&aO<=aK+aU):(aP>=aL+aH&&aP<=aL+aU&&aO>=Math.min(aZ,aK)&&aO<=Math.max(aZ,aK))){aY=[aW,aV/aT]}}}}if(aY){aW=aY[0];aV=aY[1];aT=U[aW].datapoints.pointsize;return{datapoint:U[aW].datapoints.points.slice(aV*aT,(aV+1)*aT),dataIndex:aV,series:U[aW],seriesIndex:aW}}return null}function ah(aB){if(V.grid.hoverable){x("plothover",aB,function(aC){return aC.hoverable!=false})}}function l(aB){if(V.grid.hoverable){x("plothover",aB,function(aC){return false})}}function T(aB){x("plotclick",aB,function(aC){return aC.clickable!=false})}function x(aC,aB,aD){var aE=aj.offset(),aH=aB.pageX-aE.left-aw.left,aF=aB.pageY-aE.top-aw.top,aJ=J({left:aH,top:aF});aJ.pageX=aB.pageX;aJ.pageY=aB.pageY;var aK=aa(aH,aF,aD);if(aK){aK.pageX=parseInt(aK.series.xaxis.p2c(aK.datapoint[0])+aE.left+aw.left);aK.pageY=parseInt(aK.series.yaxis.p2c(aK.datapoint[1])+aE.top+aw.top)}if(V.grid.autoHighlight){for(var aG=0;aG<ai.length;++aG){var aI=ai[aG];if(aI.auto==aC&&!(aK&&aI.series==aK.series&&aI.point[0]==aK.datapoint[0]&&aI.point[1]==aK.datapoint[1])){Q(aI.series,aI.point)}}if(aK){an(aK.series,aK.datapoint,aC)}}ax.trigger(aC,[aJ,aK])}function d(){if(!Y){Y=setTimeout(ar,30)}}function ar(){Y=null;F.save();F.clearRect(0,0,af,P);F.translate(aw.left,aw.top);var aC,aB;for(aC=0;aC<ai.length;++aC){aB=ai[aC];if(aB.series.bars.show){y(aB.series,aB.point)}else{az(aB.series,aB.point)}}F.restore();z(ao.drawOverlay,[F])}function an(aD,aB,aF){if(typeof aD=="number"){aD=U[aD]}if(typeof aB=="number"){var aE=aD.datapoints.pointsize;aB=aD.datapoints.points.slice(aE*aB,aE*(aB+1))}var aC=A(aD,aB);if(aC==-1){ai.push({series:aD,point:aB,auto:aF});d()}else{if(!aF){ai[aC].auto=false}}}function Q(aD,aB){if(aD==null&&aB==null){ai=[];d()}if(typeof aD=="number"){aD=U[aD]}if(typeof aB=="number"){aB=aD.data[aB]}var aC=A(aD,aB);if(aC!=-1){ai.splice(aC,1);d()}}function A(aD,aE){for(var aB=0;aB<ai.length;++aB){var aC=ai[aB];if(aC.series==aD&&aC.point[0]==aE[0]&&aC.point[1]==aE[1]){return aB}}return -1}function az(aD,aC){var aB=aC[0],aI=aC[1],aH=aD.xaxis,aG=aD.yaxis;if(aB<aH.min||aB>aH.max||aI<aG.min||aI>aG.max){return}var aE=aD.points.radius+aD.points.lineWidth/2;F.lineWidth=aE;F.strokeStyle=c.color.parse(aD.color).scale("a",0.5).toString();var aF=1.5*aE,aB=aH.p2c(aB),aI=aG.p2c(aI);F.beginPath();if(aD.points.symbol=="circle"){F.arc(aB,aI,aF,0,2*Math.PI,false)}else{aD.points.symbol(F,aB,aI,aF,false)}F.closePath();F.stroke()}function y(aC,aB){F.lineWidth=aC.bars.lineWidth;F.strokeStyle=c.color.parse(aC.color).scale("a",0.5).toString();var aD=c.color.parse(aC.color).scale("a",0.5).toString();var aE=aC.bars.align=="left"?0:-aC.bars.barWidth/2;L(aB[0],aB[1],aB[2]||0,aE,aE+aC.bars.barWidth,0,function(){return aD},aC.xaxis,aC.yaxis,F,aC.bars.horizontal,aC.bars.lineWidth)}function ap(aJ,aE,aH,aD){if(typeof aJ=="string"){return aJ}else{var aI=N.createLinearGradient(0,aH,0,aE);for(var aC=0,aB=aJ.colors.length;aC<aB;++aC){var aF=aJ.colors[aC];if(typeof aF!="string"){var aG=c.color.parse(aD);if(aF.brightness!=null){aG=aG.scale("rgb",aF.brightness)}if(aF.opacity!=null){aG.a*=aF.opacity}aF=aG.toString()}aI.addColorStop(aC/(aB-1),aF)}return aI}}}c.plot=function(g,e,d){var f=new b(c(g),e,d,c.plot.plugins);return f};c.plot.version="0.7";c.plot.plugins=[];c.plot.formatDate=function(l,g,h){var p=function(d){d=""+d;return d.length==1?"0"+d:d};var e=[];var o=false,f=false;var n=l.getUTCHours();var k=n<12;if(h==null){h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(g.search(/%p|%P/)!=-1){if(n>12){n=n-12}else{if(n==0){n=12}}}for(var j=0;j<g.length;++j){var m=g.charAt(j);if(o){switch(m){case"h":m=""+n;break;case"H":m=p(n);break;case"M":m=p(l.getUTCMinutes());break;case"S":m=p(l.getUTCSeconds());break;case"d":m=""+l.getUTCDate();break;case"m":m=""+(l.getUTCMonth()+1);break;case"y":m=""+l.getUTCFullYear();break;case"b":m=""+h[l.getUTCMonth()];break;case"p":m=(k)?("am"):("pm");break;case"P":m=(k)?("AM"):("PM");break;case"0":m="";f=true;break}if(m&&f){m=p(m);f=false}e.push(m);if(!f){o=false}}else{if(m=="%"){o=true}else{e.push(m)}}}return e.join("")};function a(e,d){return d*Math.floor(e/d)}})(jQuery);