(function(c){var a={series:{images:{show:false,alpha:1,anchor:"corner"}}};c.plot.image={};c.plot.image.loadDataImages=function(h,i,k){var j=[],g=[];var f=i.series.images.show;c.each(h,function(l,m){if(!(f||m.images.show)){return}if(m.data){m=m.data}c.each(m,function(n,o){if(typeof o[0]=="string"){j.push(o[0]);g.push(o)}})});c.plot.image.load(j,function(l){c.each(g,function(n,o){var m=o[0];if(l[m]){o[0]=l[m]}});k()})};c.plot.image.load=function(i,h){var g=i.length,f={};if(g==0){h({})}c.each(i,function(k,j){var l=function(){--g;f[j]=this;if(g==0){h(f)}};c("<img />").load(l).error(l).attr("src",j)})};function e(q,o,f){var g=q.getPlotOffset();if(!f.images||!f.images.show){return}var v=f.datapoints.points,n=f.datapoints.pointsize;for(var r=0;r<v.length;r+=n){var y=v[r],w=v[r+1],j=v[r+2],t=v[r+3],h=v[r+4],k=f.xaxis,u=f.yaxis,x;if(!y||y.width<=0||y.height<=0){continue}if(w>t){x=t;t=w;w=x}if(j>h){x=h;h=j;j=x}if(f.images.anchor=="center"){x=0.5*(t-w)/(y.width-1);w-=x;t+=x;x=0.5*(h-j)/(y.height-1);j-=x;h+=x}if(w==t||j==h||w>=k.max||t<=k.min||j>=u.max||h<=u.min){continue}var m=0,s=0,l=y.width,p=y.height;if(w<k.min){m+=(l-m)*(k.min-w)/(t-w);w=k.min}if(t>k.max){l+=(l-m)*(k.max-t)/(t-w);t=k.max}if(j<u.min){p+=(s-p)*(u.min-j)/(h-j);j=u.min}if(h>u.max){s+=(s-p)*(u.max-h)/(h-j);h=u.max}w=k.p2c(w);t=k.p2c(t);j=u.p2c(j);h=u.p2c(h);if(w>t){x=t;t=w;w=x}if(j>h){x=h;h=j;j=x}x=o.globalAlpha;o.globalAlpha*=f.images.alpha;o.drawImage(y,m,s,l-m,p-s,w+g.left,j+g.top,t-w,h-j);o.globalAlpha=x}}function b(i,f,g,h){if(!f.images.show){return}h.format=[{required:true},{x:true,number:true,required:true},{y:true,number:true,required:true},{x:true,number:true,required:true},{y:true,number:true,required:true}]}function d(f){f.hooks.processRawData.push(b);f.hooks.drawSeries.push(e)}c.plot.plugins.push({init:d,options:a,name:"image",version:"1.1"})})(jQuery);