(function(b){var a={series:{fillBetween:null}};function c(f){function d(j,h){var g;for(g=0;g<h.length;++g){if(h[g].id==j.fillBetween){return h[g]}}if(typeof j.fillBetween=="number"){g=j.fillBetween;if(g<0||g>=h.length){return null}return h[g]}return null}function e(A,v,g){if(v.fillBetween==null){return}var n=d(v,A.getData());if(!n){return}var x=g.pointsize,D=g.points,t=n.datapoints.pointsize,G=n.datapoints.points,p=[],w,u,q,F,E,k,r=v.lines.show,o=x>2&&g.format[2].y,h=r&&v.lines.steps,C=true,B=0,z=0,y;while(true){if(B>=D.length){break}y=p.length;if(D[B]==null){for(m=0;m<x;++m){p.push(D[B+m])}B+=x}else{if(z>=G.length){if(!r){for(m=0;m<x;++m){p.push(D[B+m])}}B+=x}else{if(G[z]==null){for(m=0;m<x;++m){p.push(null)}C=true;z+=t}else{w=D[B];u=D[B+1];F=G[z];E=G[z+1];k=0;if(w==F){for(m=0;m<x;++m){p.push(D[B+m])}k=E;B+=x;z+=t}else{if(w>F){if(r&&B>0&&D[B-x]!=null){q=u+(D[B-x+1]-u)*(F-w)/(D[B-x]-w);p.push(F);p.push(q);for(m=2;m<x;++m){p.push(D[B+m])}k=E}z+=t}else{if(C&&r){B+=x;continue}for(m=0;m<x;++m){p.push(D[B+m])}if(r&&z>0&&G[z-t]!=null){k=E+(G[z-t+1]-E)*(w-F)/(G[z-t]-F)}B+=x}}C=false;if(y!=p.length&&o){p[y+2]=k}}}}if(h&&y!=p.length&&y>0&&p[y]!=null&&p[y]!=p[y-x]&&p[y+1]!=p[y-x+1]){for(m=0;m<x;++m){p[y+x+m]=p[y+m]}p[y+1]=p[y-x+1]}}g.points=p}f.hooks.processDatapoints.push(e)}b.plot.plugins.push({init:c,options:a,name:"fillbetween",version:"1.0"})})(jQuery);